<div [formGroup]="currenciesForm">
  <mat-checkbox formControlName="bitcoin">BTC</mat-checkbox>
  <mat-checkbox formControlName="ethereum">ETH</mat-checkbox>
  <mat-checkbox formControlName="stellar">XLM</mat-checkbox>
</div>


<apx-chart #chart [series]="chartOptions.series"
           [chart]="chartOptions.chart"
           [legend]="chartOptions.legend"
           [xaxis]="chartOptions.xaxis"
           [yaxis]="chartOptions.yaxis"
           [markers]="chartOptions.markers"
           [colors]="chartOptions.colors"
           [stroke]="chartOptions.stroke"
           [fill]="chartOptions.fill"
           [responsive]="chartOptions.responsive"
></apx-chart>

<div class="tables-container">
  <div class="table-wrapper" *ngIf="bitcoinCheckbox.value">
    <table *ngIf="dataForTables.BTC | async as bitcoin" #BTCSort="matSort" mat-table matSort matSortDisableClear [dataSource]="bitcoin" class="mat-elevation-z8">
      <ng-container [matColumnDef]="column" *ngFor="let column of getHeaderArray(bitcoin[0])">
        <th mat-header-cell mat-sort-header *matHeaderCellDef> {{column}} </th>
        <td mat-cell *matCellDef="let element"> {{element[column]}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="getHeaderArray(bitcoin[0]); sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: getHeaderArray(bitcoin[0]);"></tr>
    </table>
  </div>

  <div class="table-wrapper" *ngIf="ethereumCheckbox.value">
    <table *ngIf="dataForTables.ETH | async as etherium" #ETHSort="matSort" mat-table matSort matSortDisableClear [dataSource]="etherium" class="mat-elevation-z8">
      <ng-container [matColumnDef]="column" *ngFor="let column of getHeaderArray(etherium[0])">
        <th mat-header-cell mat-sort-header *matHeaderCellDef> {{column}} </th>
        <td mat-cell *matCellDef="let element"> {{element[column]}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="getHeaderArray(etherium[0]); sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: getHeaderArray(etherium[0]);"></tr>
    </table>

  </div>

  <div class="table-wrapper" *ngIf="stellarCheckbox.value">
    <table *ngIf="dataForTables.XLM | async as stellar" #XLMSort="matSort" mat-table matSort matSortDisableClear [dataSource]="stellar" class="mat-elevation-z8">
      <ng-container [matColumnDef]="column" *ngFor="let column of getHeaderArray(stellar[0])">
        <th mat-header-cell mat-sort-header *matHeaderCellDef> {{column}} </th>
        <td mat-cell *matCellDef="let element"> {{element[column]}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="getHeaderArray(stellar[0]); sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: getHeaderArray(stellar[0]);"></tr>
    </table>
  </div>
</div>
